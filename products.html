<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interior Architecture Products</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
      body {
    margin: 0;
    font-family: 'Inter', sans-serif, Arial, sans-serif;
    background: linear-gradient(135deg, #fff1e6 0%, #ffd8a9 100%);
    color: #5a2e00;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  header {
      background: linear-gradient(90deg, #ffdca0 0%, #ffc069 100%);
    color: #673906;
    padding: 1rem 2rem;
    font-weight: 700;
    font-size: 1.75rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 12px rgba(251, 146, 60, 0.6);
    position: sticky;
    top: 0;
    z-index: 101;
  }

  header .logo {
    letter-spacing: 2px;
        color: #f37d07;
  } 

  /* Cart container in header with View Cart button */
  header .cart-container {
    display: flex;
    align-items: center;
    gap: 1.25rem;
  }

  header .cart {
    position: relative;
    cursor: pointer;
    font-size: 1.6rem;
    color: #894a03;
    user-select: none;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
  }

  header .cart .count {
    background: #ef910d;
    color: #7a3e00;
    font-weight: 700;
    font-size: 1rem;
    border-radius: 50%;
    padding: 0.15rem 0.5rem;
    position: absolute;
    top: -8px;
    right: -12px;
    box-shadow: 0 0 5px #fb923c;
  }

  header button#viewCartBtn {
    background: #692f00;
    border: 2px solid #fff8f0;
    color: #fff8f0;
    font-size: 1.2rem;
    padding: 0.35rem 0.9rem;
    border-radius: 0.7rem;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
    user-select: none;
  }
  header button#viewCartBtn:hover {
    background: #f97316;
    color: #fff;
  }

  main {
    display: flex;
    gap: 2rem;
    max-width: 1200px;
    margin: 2rem auto 4rem;
    padding: 0 1rem;
    flex-grow: 1;
    position: relative;
  }

  /* Left sidebar - filter */
  .filter-panel {
    flex: 0 0 280px;
    background: #fff3e0;
    padding: 1.5rem;
    border-radius: 1rem;
    box-shadow: 0 6px 18px rgba(251, 146, 60, 0.3);
    position: sticky;
    top: 5rem;
    height: fit-content;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    color: #b45309;
  }

  .filter-panel h2 {
    margin: 0 0 1rem 0;
    font-weight: 800;
    font-size: 1.6rem;
    color: #ea580c;
    text-align: center;
    letter-spacing: 1px;
  }

  label {
    font-weight: 700;
    font-size: 1.2rem;
    margin-bottom: 0.7rem;
    display: block;
    color: #b45309;
  }

  select, input[type="number"] {
    width: 100%;
    padding: 0.55rem 0.7rem;
    border: 2px solid #ffb347;
    border-radius: 0.6rem;
    font-size: 1rem;
    color: #7a3e00;
    box-sizing: border-box;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
    background: #fff8f0;
  }

  select:focus, input[type="number"]:focus {
    outline: none;
    border-color: #ea580c;
    box-shadow: 0 0 8px #fb923c88;
    background: #fff1e6;
  }

  button {
    padding: 0.65rem 0;
    border-radius: 0.6rem;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    border: none;
    transition: background-color 0.3s ease, color 0.3s ease;
    box-shadow: 0 2px 6px rgba(251, 146, 60, 0.25);
    color: #fff8f0;
  }

  #applyFiltersBtn {
    background-color: #ea580c;
  }
  #applyFiltersBtn:hover {
    background-color: #c2410c;
    box-shadow: 0 6px 14px #c2410caa;
  }

  #clearFiltersBtn {
    background-color: #ffb347;
    color: #7a3e00;
    margin-top: 0.4rem;
    box-shadow: 0 2px 6px #ffb347aa;
  }
  #clearFiltersBtn:hover {
    background-color: #fbbf24;
    color: #5a2e00;
    box-shadow: 0 6px 14px #fbbf24aa;
  }

  /* Right section - products */
  .products-section {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .products-section h1 {
    margin: 0 0 1.75rem 0;
    color: #b45309;
    font-weight: 900;
    font-size: 2.5rem;
    text-align: center;
    letter-spacing: 1.5px;
    text-shadow: 1px 1px 4px #ffb347cc;
  }

  #productList {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* Two per row */
    gap: 1.75rem;
  }

  .product-card {
    background: #fff8f0;
    border-radius: 2rem;
    box-shadow: 0 6px 18px rgba(251, 146, 60, 1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: box-shadow 0.3s ease, transform 0.2s ease;
    position: relative;
  }

  .product-card img {
    width: 400px;
    height: auto;
    object-fit: cover;
    border-top-left-radius: 1rem;
    border-top-right-radius: 1rem;
    transition: transform 0.3s ease;
  }
  .product-card:hover img {
    transform: scale(1.05);
  }

  .product-info {
    padding: 1rem ;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .product-info h3 {
    font-weight: 700;
    font-size: 1.5rem;
    margin-bottom: 0.4rem;
    color: #7a3e00;
 
  }

  .price {
    color: #ea580c;
    font-weight: 800;
    font-size: 1.1rem;
    margin-bottom: 0.6rem;
    letter-spacing: 0.5px;
  }

  .stars i.fas.fa-star,
  .stars i.fas.fa-star-half-alt {
    color: #fbbf24;
    margin-right: 2px;
  }

  .stars i.far.fa-star {
    color: #e5e7eb;
    margin-right: 2px;
  }

  .btn-add-cart {
    background-color: #ea580c;
    color: white;
    padding: 0.55rem;
    border: none;
    border-radius: 0.75rem;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    box-shadow: 0 4px 12px #fb923caa;
    user-select: none;
  }
  .btn-add-cart:hover:not(.added) {
    background-color: #f97316;
    box-shadow: 0 6px 18px #f9731688;
    transform: scale(1.05);
  }

  .btn-add-cart.added {
    background-color: #22c55e;
    box-shadow: 0 4px 15px #22c55ecc;
    cursor: default;
    transform: scale(1);
  }
  .btn-add-cart.added:hover {
    background-color: #22c55e;
    box-shadow: 0 4px 15px #22c55ecc;
  }

  /* Toast message */
  #messageBox {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background-color: #22c55e;
    color: white;
    padding: 0.75rem 1.25rem;
    border-radius: 0.5rem;
    box-shadow: 0 5px 12px rgba(0,0,0,0.18);
    opacity: 0;
    pointer-events: none;
    transform: translateX(100%);
    transition: opacity 0.3s ease, transform 0.3s ease;
    font-weight: 600;
    z-index: 10000;
    user-select: none;
  }
  #messageBox.show {
    opacity: 1;
    pointer-events: auto;
    transform: translateX(0);
  }

  /* Cart Drawer */
  #cartDrawer {
    position: fixed;
    top: 0;
    right: -450px;
    width: 400px;
    height: 100vh;
    background: #fff3e0;
    box-shadow: -4px 0 16px rgba(251, 146, 60, 0.4);
    border-top-left-radius: 1rem;
    border-bottom-left-radius: 1rem;
    padding: 1.5rem 1.5rem 3rem 1.5rem;
    transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    z-index: 102;
    overflow-y: auto;
  }
  #cartDrawer.open {
    right: 0;
  }

  #cartDrawer h2 {
    font-size: 1.8rem;
    font-weight: 900;
    color: #b45309;
    margin: 0 0 1rem 0;
    letter-spacing: 1.2px;
    text-align: center;
  }

  #cartItems {
    flex-grow: 1;
    overflow-y: auto;
    margin-bottom: 1rem;
  }

  .cart-item {
  position: relative; /* Important */
  display: flex;
  gap: 1rem;
  margin-bottom: 1.2rem;
  border-bottom: 1px solid #fbbf2480;
  padding-bottom: 1rem;
  align-items: center;
  }

  .cart-item img {
    width: auto;
    height: auto;
    border-radius: 1rem;
    object-fit: cover;
    box-shadow: 0 2px 8px #fb923c55;
  }

  .cart-item-details {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }
  .cart-item-details h3 {
    margin: 0 0 0.3rem 0;
    font-size: 1.05rem;
    font-weight: 700;
    color: #7a3e00;
  }
  .cart-item-details .quantity {
    font-weight: 600;
    font-size: 0.9rem;
    color: #b45309;
  }

  .cart-item-details .price {
    font-weight: 700;
    color: #ea580c;
    margin-top: 0.3rem;
  }

  .cart-item-remove {
    cursor: pointer;
    font-size: 1.25rem;
    color: #dc2626;
    user-select: none;
  }
  .cart-item-remove:hover {
    color: #b91c1c;
  }

  #cartTotal {
    font-weight: 900;
    font-size: 1.3rem;
    color: #ea580c;
    text-align: center;
    margin-bottom: 1rem;
    user-select: none;
  }
.header-links {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-left: auto;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.header-links a {
  text-decoration: none;
  color: #5a3204;
  padding: 5px 10px;
  border-radius: 4px;
  transition: background-color 0.3s ease, color 0.3s ease;
  font-size: 1.5rem;
}

.header-links a:hover,
.header-links a:focus {
  background-color: #f0c090;
  color: #fff;
  outline: none;
}

  #closeCartBtn {
  position: absolute;
  top: 0;
  right: 0;
  font-size: 1.25rem;
  color: #dc2626;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  line-height: 1;
  }
  #closeCartBtn:hover {
    background-color: #f97316;
  }

  /* Responsive */
  @media (max-width: 900px) {
    main {
      flex-direction: column;
      margin: 1rem;
    }
    .filter-panel {
      width: 100%;
      position: relative;
      top: auto;
      margin-bottom: 1.75rem;
      box-shadow: none;
      border-radius: 0.75rem;
    }
    #productList {
      grid-template-columns: 1fr;
      gap: 1.25rem;
    }
    #cartDrawer {
      width: 100vw;
      right: -100vw;
      border-radius: 0;
    }
    #cartDrawer.open {
      right: 0;
    }
  }
  </style>
</head>
<body>

<header>
  <div class="logo">Designstudio</div>

  <!-- 🧭 Navigation Links -->
  <nav class="header-links">
    <a href="index.html">Home</a>
    <a href="todo.html">To Do List</a>
  </nav>

  <div class="cart-container">
    <div class="cart" id="cartIcon" title="View Cart">
      <i class="fas fa-shopping-cart"></i> Cart
      <span class="count" id="cartCount">0</span>
    </div>
    <button id="viewCartBtn" aria-label="View Cart">View Cart</button>
  </div>
</header>


<main>
  <!-- Filter Panel -->
  <aside class="filter-panel" aria-label="Filter Products">
    <h2>Filter Products</h2>
    <label for="categorySelect">Category</label>
    <select id="categorySelect" aria-describedby="categoryHelp">
      <option value="">All</option>
      <option value="lighting">Lighting</option>
      <option value="furniture">Furniture</option>
      <option value="decor">Decor</option>
      <option value="textiles">Textiles</option>
    </select>
    <small id="categoryHelp" style="color:#b45309;">Select category to filter.</small>

    <label for="priceMin">Min Price (₹)</label>
    <input type="number" id="priceMin" min="0" step="100" placeholder="₹0" />

    <label for="priceMax">Max Price (₹)</label>
    <input type="number" id="priceMax" min="0" step="100" placeholder="₹100000" />

    <button id="applyFiltersBtn">Apply Filters</button>
    <button id="clearFiltersBtn">Clear Filters</button>
  </aside>

  <!-- Products Section -->
  <section class="products-section" aria-label="Product List">
    <h1>Interior Architecture Collection</h1>
    <div id="productList" aria-live="polite" aria-relevant="additions removals"></div>
  </section>
</main>

<!-- Cart Drawer -->
<aside id="cartDrawer" aria-label="Shopping Cart" aria-hidden="true">
  <h2>Your Cart</h2>
  <div id="cartItems" role="list"></div>
  <div id="cartTotal" aria-live="polite">Total: ₹0</div>
  <button id="closeCartBtn" aria-label="Close Cart">Close Cart</button>
</aside>

<!-- Toast message -->
<div id="messageBox" role="alert" aria-live="assertive"></div>

<script>
  const products = [
    { id: 1, name: 'Luxury Sofa Set', category: 'furniture', price: 85000, rating: 4.5, image: 'images/luxuryvelvetsofa.jpg' },
    { id: 2, name: 'Modern Floor Lamp', category: 'lighting', price: 12000, rating: 4.0, image: 'images/modernfloorlamps.jpg' },
    { id: 3, name: 'Abstract Wall Art', category: 'decor', price: 6500, rating: 4.8, image: 'images/abstractwallart.jpg' },
    { id: 4, name: 'Velvet Curtains', category: 'textiles', price: 4500, rating: 4.2, image: 'images/curtains.jpg' },
    { id: 5, name: 'Minimalist Dining Table', category: 'furniture', price: 45000, rating: 4.6, image: 'images/diningtable.jpg' },
    { id: 6, name: 'Geometric Pendant Lamp', category: 'lighting', price: 28000, rating: 4.3, image: 'images/geometricpendantlamp copy.jpg' },
    { id: 7, name: 'Ceramic Vase Set', category: 'decor', price: 3200, rating: 4.1, image: 'images/ceramicvaseset.jpg' },
    { id: 8, name: 'Geometric Rug', category: 'textiles', price: 9800, rating: 4.7, image: 'images/softlinenblanket.jpg' },
    { id: 9, name: 'Bookshelf', category: 'furniture', price: 18000, rating: 4.4, image: 'images/book.jpg' }
  ];

  let cart = [];

  function formatPrice(num) {
    return `₹${num.toLocaleString('en-IN')}`;
  }

  function renderProducts(productList) {
    const container = document.getElementById('productList');
    container.innerHTML = '';
    if (productList.length === 0) {
      container.innerHTML = '<p style="grid-column: 1/-1; text-align:center; font-weight:700; color:#b45309;">No products found matching the filters.</p>';
      return;
    }

    productList.forEach(product => {
      const card = document.createElement('article');
      card.className = 'product-card';
      card.setAttribute('tabindex', '0');
      card.setAttribute('aria-label', `${product.name}, Price: ${formatPrice(product.price)}, Rating: ${product.rating} stars`);

      const starCountFull = Math.floor(product.rating);
      const halfStar = product.rating % 1 >= 0.5;
      const starCountEmpty = 5 - starCountFull - (halfStar ? 1 : 0);

      let starsHtml = '';
      for (let i = 0; i < starCountFull; i++) starsHtml += '<i class="fas fa-star"></i>';
      if (halfStar) starsHtml += '<i class="fas fa-star-half-alt"></i>';
      for (let i = 0; i < starCountEmpty; i++) starsHtml += '<i class="far fa-star"></i>';

      card.innerHTML = `
        <img src="${product.image}" alt="${product.name}" loading="lazy" />
        <div class="product-info">
          <h3>${product.name}</h3>
          <div class="price">${formatPrice(product.price)}</div>
          <div class="stars" aria-label="Rating: ${product.rating} out of 5 stars">${starsHtml}</div>
          <button class="btn-add-cart" data-id="${product.id}" aria-label="Add ${product.name} to cart">Add to Cart</button>
        </div>
      `;

      container.appendChild(card);
    });

    document.querySelectorAll('.btn-add-cart').forEach(button => {
      button.addEventListener('click', addToCart);
    });
  }

  function addToCart(e) {
    const id = Number(e.currentTarget.dataset.id);
    const product = products.find(p => p.id === id);
    if (!product) return;

    const cartItem = cart.find(item => item.id === id);
    if (cartItem) {
      cartItem.quantity += 1;
    } else {
      cart.push({ ...product, quantity: 1 });
    }

    updateCartUI();
    showMessage(`Added "${product.name}" to cart`);

    const btn = e.currentTarget;
    btn.classList.add('added');
    btn.textContent = 'Added ✓';
    btn.disabled = true;
    setTimeout(() => {
      btn.classList.remove('added');
      btn.textContent = 'Add to Cart';
      btn.disabled = false;
    }, 1500);
  }

  function updateCartUI() {
    const cartCount = document.getElementById('cartCount');
    const cartItemsContainer = document.getElementById('cartItems');
    const cartTotalElem = document.getElementById('cartTotal');

    const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);
    cartCount.textContent = totalItems;

    cartItemsContainer.innerHTML = '';
    if (cart.length === 0) {
      cartItemsContainer.innerHTML = '<p style="text-align:center; color:#b45309; font-weight:700;">Your cart is empty.</p>';
      cartTotalElem.textContent = 'Total: ₹0';
      return;
    }

    cart.forEach(item => {
      const itemElem = document.createElement('div');
      itemElem.className = 'cart-item';
      itemElem.setAttribute('role', 'listitem');

      itemElem.innerHTML = `
        <img src="${item.image}" alt="${item.name}" />
        <div class="cart-item-details">
          <h3>${item.name}</h3>
          <div class="quantity">Quantity: ${item.quantity}</div>
          <div class="price">${formatPrice(item.price * item.quantity)}</div>
        </div>
      `;

      cartItemsContainer.appendChild(itemElem);
    });

    const totalPrice = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
    cartTotalElem.textContent = `Total: ${formatPrice(totalPrice)}`;
  }

  function showMessage(message) {
    const box = document.getElementById('messageBox');
    box.textContent = message;
    box.className = 'show';
    setTimeout(() => {
      box.className = box.className.replace('show', '');
    }, 2000);
  }

  function applyFilters() {
    const category = document.getElementById('categorySelect').value.toLowerCase();
    const minPriceRaw = document.getElementById('priceMin').value;
    const maxPriceRaw = document.getElementById('priceMax').value;

    const minPrice = minPriceRaw ? parseInt(minPriceRaw) : 0;
    const maxPrice = maxPriceRaw ? parseInt(maxPriceRaw) : Infinity;

    if (minPrice > maxPrice) {
      alert('Minimum price cannot be greater than maximum price.');
      return;
    }

    const filtered = products.filter(product => {
      const matchCategory = category ? product.category.toLowerCase() === category : true;
      const matchMin = product.price >= minPrice;
      const matchMax = product.price <= maxPrice;
      return matchCategory && matchMin && matchMax;
    });

    renderProducts(filtered);
  }

  function clearFilters() {
    document.getElementById('categorySelect').value = '';
    document.getElementById('priceMin').value = '';
    document.getElementById('priceMax').value = '';
    renderProducts(products);
  }

  document.getElementById('applyFiltersBtn').addEventListener('click', applyFilters);
  document.getElementById('clearFiltersBtn').addEventListener('click', clearFilters);

  document.getElementById('viewCartBtn').addEventListener('click', () => {
    document.getElementById('cartDrawer').classList.add('open');
    document.getElementById('cartDrawer').setAttribute('aria-hidden', 'false');
  });

  document.getElementById('closeCartBtn').addEventListener('click', () => {
    document.getElementById('cartDrawer').classList.remove('open');
    document.getElementById('cartDrawer').setAttribute('aria-hidden', 'true');
  });

  document.getElementById('cartIcon').addEventListener('click', () => {
    document.getElementById('cartDrawer').classList.toggle('open');
    const drawer = document.getElementById('cartDrawer');
    const isOpen = drawer.classList.contains('open');
    drawer.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
  });

  renderProducts(products);
</script>

</body>
</html>
